<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ú©Ø§Ø±Ú¯Ø§Ù‡ Ø´ÛŒØ±ÛŒÙ†ÛŒ Ù¾Ø²ÛŒ Ø¢Ø¯Ø±ÛŒÙ†Ø§ - Ø³Ø§Ù…Ø§Ù†Ù‡ Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Vazirmatn', sans-serif;
        }
        
        .cake-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .sparkle {
            animation: sparkle 2s linear infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #e0f2fe 0%, #b3e5fc 50%, #81d4fa 100%);
        }
        
        .fantasy-gradient {
            background: linear-gradient(135deg, #1a237e 0%, #3949ab 50%, #5c6bc0 100%);
        }
        
        .magic-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(227,242,253,0.9) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
        }
        
        .floating-element {
            animation: magicFloat 4s ease-in-out infinite;
        }
        
        @keyframes magicFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-15px) rotate(2deg); }
            50% { transform: translateY(-10px) rotate(-1deg); }
            75% { transform: translateY(-20px) rotate(1deg); }
        }
        
        .magic-sparkle {
            animation: magicSparkle 3s linear infinite;
        }
        
        @keyframes magicSparkle {
            0%, 100% { opacity: 1; transform: scale(1) rotate(0deg); }
            25% { opacity: 0.7; transform: scale(1.3) rotate(90deg); }
            50% { opacity: 0.4; transform: scale(0.8) rotate(180deg); }
            75% { opacity: 0.8; transform: scale(1.1) rotate(270deg); }
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .trust-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <!-- Header -->
    <header class="fantasy-gradient shadow-2xl sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-4 space-x-reverse">
                    <div class="text-4xl floating-element">ğŸ‚</div>
                    <div>
                        <h1 class="text-2xl md:text-3xl font-bold text-white drop-shadow-lg">Ú©Ø§Ø±Ú¯Ø§Ù‡ Ø´ÛŒØ±ÛŒÙ†ÛŒ Ù¾Ø²ÛŒ Ø¢Ø¯Ø±ÛŒÙ†Ø§</h1>
                        <p class="text-blue-100 text-sm">Ø³Ø§Ù…Ø§Ù†Ù‡ Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ†</p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4 space-x-reverse">
                    <button onclick="openModal('loginModal')" class="bg-white hover:bg-blue-50 text-blue-800 px-4 py-2 rounded-lg font-medium transition-all shadow-lg hover:shadow-xl">
                        ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…
                    </button>
                    <button onclick="openModal('orderTrackModal')" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-all shadow-lg hover:shadow-xl">
                        Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Trust Badges Section -->
    <section class="bg-white py-4 border-b">
        <div class="container mx-auto px-4">
            <div class="flex justify-center items-center space-x-8 space-x-reverse flex-wrap">
                <div class="trust-badge flex items-center space-x-2 space-x-reverse">
                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-sm">âœ“</span>
                    </div>
                    <span class="text-sm text-gray-700">Ù†Ù…Ø§Ø¯ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ©ÛŒ</span>
                </div>
                <div class="trust-badge flex items-center space-x-2 space-x-reverse">
                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-sm">ğŸ›¡ï¸</span>
                    </div>
                    <span class="text-sm text-gray-700">Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù…Ù†</span>
                </div>
                <div class="trust-badge flex items-center space-x-2 space-x-reverse">
                    <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-sm">ğŸ“±</span>
                    </div>
                    <span class="text-sm text-gray-700">Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…ÙˆØ¨Ø§ÛŒÙ„</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Hero Section -->
    <section class="py-16 relative overflow-hidden">
        <div class="absolute inset-0">
            <div class="magic-sparkle absolute top-10 left-10 text-4xl">â­</div>
            <div class="magic-sparkle absolute top-20 right-20 text-3xl">âœ¨</div>
            <div class="magic-sparkle absolute bottom-20 left-20 text-5xl">ğŸŒŸ</div>
            <div class="magic-sparkle absolute bottom-10 right-10 text-3xl">ğŸ’«</div>
        </div>
        <div class="container mx-auto px-4 text-center relative z-10">
            <h2 class="text-4xl md:text-5xl font-bold text-blue-900 mb-6 drop-shadow-lg">
                Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† Ú©ÛŒÚ© Ùˆ Ø´ÛŒØ±ÛŒÙ†ÛŒ
                <span class="magic-sparkle text-6xl">âœ¨</span>
            </h2>
            <p class="text-xl text-blue-800 mb-8 drop-shadow-md">
                Ø¨Ø§ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù…Ø§ØŒ Ø³ÙØ§Ø±Ø´ Ø¯Ù‡ÛŒØ¯ Ùˆ Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„ Ø±Ø§ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ú©Ù†ÛŒØ¯
            </p>
            <div class="flex justify-center space-x-4 space-x-reverse mb-8">
                <button onclick="checkLoginAndOrder()" class="bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white px-8 py-4 rounded-full font-bold text-lg transition-all transform hover:scale-105 shadow-2xl">
                    Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ğŸ›’
                </button>
                <button onclick="downloadApp()" class="bg-gradient-to-r from-white to-blue-50 hover:from-blue-50 hover:to-blue-100 text-blue-800 px-8 py-4 rounded-full font-bold text-lg transition-all transform hover:scale-105 shadow-2xl border border-blue-200">
                    Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† ğŸ“±
                </button>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center mb-12">
                <h3 class="text-4xl font-bold text-pink-800">
                    Ù…Ø­ØµÙˆÙ„Ø§Øª Ù…Ø§
                    <span class="sparkle">â­</span>
                </h3>
                <button onclick="openModal('adminModal')" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm">
                    Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                </button>
            </div>
            
            <div id="productsGrid" class="grid md:grid-cols-3 gap-8">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section class="py-16 bg-gradient-to-r from-pink-100 to-purple-100">
        <div class="container mx-auto px-4">
            <h3 class="text-4xl font-bold text-center text-pink-800 mb-12">
                Ù†Ø¸Ø±Ø§Øª Ù…Ø´ØªØ±ÛŒØ§Ù†
                <span class="sparkle">ğŸ’¬</span>
            </h3>
            <div id="reviewsContainer" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Reviews will be loaded here -->
            </div>
        </div>
    </section>

    <!-- Contact & Location Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h3 class="text-4xl font-bold text-center text-pink-800 mb-12">
                Ø¢Ø¯Ø±Ø³ Ùˆ ØªÙ…Ø§Ø³
                <span class="sparkle">ğŸ“</span>
            </h3>
            
            <div class="max-w-2xl mx-auto">
                <!-- Address Info -->
                <div class="bg-gradient-to-br from-pink-50 to-purple-50 rounded-2xl p-8 text-center">
                    <h4 class="text-2xl font-bold text-pink-800 mb-6">Ø¢Ø¯Ø±Ø³ Ú©Ø§Ø±Ú¯Ø§Ù‡</h4>
                    <div class="space-y-4">
                        <div class="flex items-start justify-center space-x-3 space-x-reverse">
                            <span class="text-2xl mt-1">ğŸ“</span>
                            <div>
                                <p class="text-gray-700 font-medium">Ú©Ø§Ø±Ú¯Ø§Ù‡ Ø´ÛŒØ±ÛŒÙ†ÛŒ Ù¾Ø²ÛŒ Ø¢Ø¯Ø±ÛŒÙ†Ø§</p>
                                <p class="text-gray-600">Ø¨Ù„ÙˆØ§Ø± ØªÙˆØ³ØŒ ØªÙˆØ³ Û´Û±</p>
                                <p class="text-gray-600">Ûµ Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø¹Ø¯ Ø§Ø² Ø´Ù‡Ø±Ú© Ø­Ø¬Øª</p>
                                <p class="text-gray-600">Ø±ÙˆØ³ØªØ§ÛŒ Ù†ÙˆØ±ÛŒØŒ Ú©ÙˆÚ†Ù‡ Ù†ÛŒÙ„ÙˆÙØ±</p>
                            </div>
                        </div>
                        <div class="flex items-center justify-center space-x-3 space-x-reverse">
                            <span class="text-2xl">ğŸ“±</span>
                            <span class="text-gray-700">Û°Û¹Û±ÛµÛ´Û°Û³Û²Û¸Û°Û¸</span>
                        </div>
                        <div class="flex items-center justify-center space-x-3 space-x-reverse">
                            <span class="text-2xl">ğŸ•</span>
                            <span class="text-gray-700">Ø±ÙˆØ²Ø§Ù†Ù‡ Û¸ ØµØ¨Ø­ ØªØ§ Û±Û° Ø´Ø¨</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Login/Register Modal -->
    <div id="loginModal" class="modal">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold text-pink-800">ÙˆØ±ÙˆØ¯ / Ø«Ø¨Øª Ù†Ø§Ù…</h3>
                <div class="text-4xl mt-2">ğŸ”</div>
            </div>
            
            <div class="mb-4">
                <button onclick="switchTab('login')" id="loginTab" class="w-1/2 py-2 bg-pink-500 text-white rounded-r-lg">ÙˆØ±ÙˆØ¯</button>
                <button onclick="switchTab('register')" id="registerTab" class="w-1/2 py-2 bg-gray-300 text-gray-700 rounded-l-lg">Ø«Ø¨Øª Ù†Ø§Ù…</button>
            </div>
            
            <form id="authForm">
                <div id="loginForm">
                    <input type="tel" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„" class="w-full p-3 mb-4 border rounded-lg" required>
                    <input type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" class="w-full p-3 mb-4 border rounded-lg" required>
                </div>
                
                <div id="registerForm" style="display: none;">
                    <input type="text" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ" class="w-full p-3 mb-4 border rounded-lg" required>
                    <input type="tel" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„" class="w-full p-3 mb-4 border rounded-lg" required>
                    <input type="password" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" class="w-full p-3 mb-4 border rounded-lg" required>
                    <input type="password" placeholder="ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" class="w-full p-3 mb-4 border rounded-lg" required>
                </div>
                
                <button type="submit" class="w-full bg-pink-500 hover:bg-pink-600 text-white py-3 rounded-lg font-bold">
                    ÙˆØ±ÙˆØ¯
                </button>
            </form>
            
            <button onclick="closeModal('loginModal')" class="absolute top-4 left-4 text-gray-500 hover:text-gray-700 text-2xl">Ã—</button>
        </div>
    </div>

    <!-- Order Modal -->
    <div id="orderModal" class="modal">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto">
            <h3 class="text-2xl font-bold text-pink-800 mb-6 text-center">Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯</h3>
            
            <form id="newOrderForm">
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <select id="productSelect" class="p-3 border rounded-lg" required onchange="updateProductDetails()">
                        <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø­ØµÙˆÙ„</option>
                        <option value="1">Ú©ÛŒÚ© ØªÙˆÙ„Ø¯ ÙØ§Ù†ØªØ²ÛŒ</option>
                        <option value="2">Ø´ÛŒØ±ÛŒÙ†ÛŒ ØªÙØ± (Ø³ÙˆÙ„ÛŒØŒ ØªÙØ±ØŒ Ø±ÙˆÙ„Øª)</option>
                        <option value="3">Ø´ÛŒØ±ÛŒÙ†ÛŒ Ø®Ø´Ú© (Ø²Ø¨ÙˆÙ†ØŒ Ø¯Ø§Ù†Ù…Ø§Ø±Ú©ÛŒ)</option>
                    </select>
                    
                    <!-- Order Type Selection -->
                    <div id="orderTypeSection" class="hidden">
                        <label class="block text-gray-700 mb-2">Ù†ÙˆØ¹ Ø³ÙØ§Ø±Ø´:</label>
                        <div class="grid grid-cols-2 gap-2">
                            <label class="flex items-center p-2 border rounded-lg cursor-pointer hover:bg-gray-50">
                                <input type="radio" name="orderType" value="weight" class="ml-2" onchange="toggleOrderType()">
                                <span>Ø¨Ù‡ Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…</span>
                            </label>
                            <label class="flex items-center p-2 border rounded-lg cursor-pointer hover:bg-gray-50">
                                <input type="radio" name="orderType" value="quantity" class="ml-2" onchange="toggleOrderType()">
                                <span>Ø¨Ù‡ ØªØ¹Ø¯Ø§Ø¯</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Weight Input -->
                <div id="weightSection" class="mb-4">
                    <div class="flex">
                        <input type="number" id="weightInput" placeholder="ÙˆØ²Ù†" min="0.5" step="0.5" class="p-3 border rounded-r-lg flex-1" onchange="calculatePrice()">
                        <span class="bg-gray-100 px-3 py-3 border-t border-b border-l rounded-l-lg text-gray-600">Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…</span>
                    </div>
                </div>

                <!-- Quantity Input -->
                <div id="quantitySection" class="mb-4 hidden">
                    <div class="flex">
                        <input type="number" id="quantityInput" placeholder="ØªØ¹Ø¯Ø§Ø¯" min="1" class="p-3 border rounded-r-lg flex-1" onchange="calculatePrice()">
                        <span class="bg-gray-100 px-3 py-3 border-t border-b border-l rounded-l-lg text-gray-600">Ø¹Ø¯Ø¯</span>
                    </div>
                </div>

                <div id="productVariants" class="mb-4 hidden">
                    <label class="block text-gray-700 mb-2">Ù†ÙˆØ¹ Ù…Ø­ØµÙˆÙ„:</label>
                    <select id="variantSelect" class="w-full p-3 border rounded-lg">
                        <!-- Options will be populated based on product selection -->
                    </select>
                </div>

                <div class="mb-4">
                    <label class="block text-gray-700 mb-2">Ø¢Ù¾Ù„ÙˆØ¯ Ø¹Ú©Ø³ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± (Ø§Ø®ØªÛŒØ§Ø±ÛŒ):</label>
                    <input type="file" accept="image/*" class="w-full p-3 border rounded-lg" id="imageUpload">
                    <p class="text-sm text-gray-500 mt-1">Ø¨Ø±Ø§ÛŒ Ú©ÛŒÚ©: Ø¹Ú©Ø³ Ø·Ø±Ø§Ø­ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯</p>
                </div>

                <div id="priceDisplay" class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4 hidden">
                    <span class="text-blue-800 font-bold">Ù‚ÛŒÙ…Øª Ú©Ù„: <span id="totalPrice">0</span> ØªÙˆÙ…Ø§Ù†</span>
                </div>
                
                <textarea placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ø³ÙØ§Ø±Ø´ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)" class="w-full p-3 border rounded-lg mb-4" rows="3"></textarea>
                
                <!-- Customer Information Section -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                    <h4 class="text-lg font-bold text-blue-800 mb-4 text-center">Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø³ÙØ§Ø±Ø´ Ø¯Ù‡Ù†Ø¯Ù‡</h4>
                    
                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                        <input type="text" placeholder="Ù†Ø§Ù…" class="p-3 border rounded-lg" required>
                        <input type="text" placeholder="Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ" class="p-3 border rounded-lg" required>
                    </div>
                    
                    <div class="mb-4">
                        <input type="tel" placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³" class="w-full p-3 border rounded-lg" required>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-gray-700 mb-2">Ø¢Ø¯Ø±Ø³ Ø¯Ù‚ÛŒÙ‚ ØªØ­ÙˆÛŒÙ„:</label>
                        <textarea placeholder="Ø´Ù‡Ø±ØŒ Ù…Ù†Ø·Ù‚Ù‡ØŒ Ø®ÛŒØ§Ø¨Ø§Ù†ØŒ Ú©ÙˆÚ†Ù‡ØŒ Ù¾Ù„Ø§Ú©ØŒ ÙˆØ§Ø­Ø¯..." class="w-full p-3 border rounded-lg" rows="3" required></textarea>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-gray-700 mb-2">ØªØ§Ø±ÛŒØ® ØªØ­ÙˆÛŒÙ„:</label>
                        <select id="deliveryDate" class="w-full p-3 border rounded-lg" required>
                            <option value="">Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ®</option>
                            <!-- Persian dates will be populated by JavaScript -->
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„:</label>
                        <select class="w-full p-3 border rounded-lg" required>
                            <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø²Ù…Ø§Ù†</option>
                            <option value="morning">ØµØ¨Ø­ (Û¹-Û±Û²)</option>
                            <option value="afternoon">Ø¹ØµØ± (Û±Û´-Û±Û¸)</option>
                            <option value="evening">Ø´Ø¨ (Û±Û¸-Û²Û±)</option>
                        </select>
                    </div>
                </div>

                <div class="mb-4">
                    <label class="block text-gray-700 mb-2">Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª:</label>
                    <div class="grid grid-cols-2 gap-4">
                        <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="radio" name="paymentMethod" value="cash" class="ml-2" required>
                            <span class="text-2xl ml-2">ğŸ’µ</span>
                            <span>Ù¾Ø±Ø¯Ø§Ø®Øª Ø¯Ø± Ù…Ø­Ù„</span>
                        </label>
                        <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50">
                            <input type="radio" name="paymentMethod" value="online" class="ml-2" required>
                            <span class="text-2xl ml-2">ğŸ’³</span>
                            <span>Ù¾Ø±Ø¯Ø§Ø®Øª Ø¢Ù†Ù„Ø§ÛŒÙ†</span>
                        </label>
                    </div>
                </div>
                
                <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-bold">
                    Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´
                </button>
            </form>
            
            <button onclick="closeModal('orderModal')" class="absolute top-4 left-4 text-gray-500 hover:text-gray-700 text-2xl">Ã—</button>
        </div>
    </div>

    <!-- Order Tracking Modal -->
    <div id="orderTrackModal" class="modal">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold text-purple-800 mb-6 text-center">Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´</h3>
            
            <div class="mb-6">
                <input type="text" id="trackingCode" placeholder="Ú©Ø¯ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´" class="w-full p-3 border rounded-lg mb-4">
                <button onclick="trackOrder()" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-bold">
                    Ù¾ÛŒÚ¯ÛŒØ±ÛŒ
                </button>
            </div>
            
            <div id="orderStatus" class="hidden">
                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                    <h4 class="font-bold text-green-800 mb-2">ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´</h4>
                    <div class="space-y-2">
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                            <span class="text-sm">Ø³ÙØ§Ø±Ø´ Ø«Ø¨Øª Ø´Ø¯</span>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                            <span class="text-sm">Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ</span>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                            <span class="text-sm">Ø¢Ù…Ø§Ø¯Ù‡ ØªØ­ÙˆÛŒÙ„</span>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <div class="w-3 h-3 bg-gray-300 rounded-full"></div>
                            <span class="text-sm text-gray-500">ØªØ­ÙˆÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯</span>
                        </div>
                    </div>
                    <p class="text-sm text-green-700 mt-4">Ø²Ù…Ø§Ù† ØªØ­ÙˆÛŒÙ„ ØªÙ‚Ø±ÛŒØ¨ÛŒ: ÙØ±Ø¯Ø§ Ø³Ø§Ø¹Øª Û±Û¶:Û°Û°</p>
                </div>
            </div>
            
            <button onclick="closeModal('orderTrackModal')" class="absolute top-4 left-4 text-gray-500 hover:text-gray-700 text-2xl">Ã—</button>
        </div>
    </div>

    <!-- Admin Modal -->
    <div id="adminModal" class="modal">
        <div class="bg-white rounded-2xl p-8 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª (Ù†Ù…ÙˆÙ†Ù‡)</h3>
            
            <div class="mb-6">
                <h4 class="font-bold mb-4">Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯</h4>
                <form id="addProductForm">
                    <input type="text" placeholder="Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„" class="w-full p-3 border rounded-lg mb-4" required>
                    <input type="number" placeholder="Ù‚ÛŒÙ…Øª (ØªÙˆÙ…Ø§Ù†)" class="w-full p-3 border rounded-lg mb-4" required>
                    <textarea placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø­ØµÙˆÙ„" class="w-full p-3 border rounded-lg mb-4" rows="3"></textarea>
                    <input type="file" accept="image/*" class="w-full p-3 border rounded-lg mb-4">
                    <button type="submit" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-bold">
                        Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„
                    </button>
                </form>
            </div>
            
            <button onclick="closeModal('adminModal')" class="absolute top-4 left-4 text-gray-500 hover:text-gray-700 text-2xl">Ã—</button>
        </div>
    </div>

    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold text-pink-800 mb-6 text-center">Ø«Ø¨Øª Ù†Ø¸Ø±</h3>
            
            <form id="reviewForm">
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2">Ø§Ù…ØªÛŒØ§Ø²:</label>
                    <div class="flex space-x-1 space-x-reverse text-2xl">
                        <span onclick="setRating(1)" class="cursor-pointer hover:text-yellow-500">â­</span>
                        <span onclick="setRating(2)" class="cursor-pointer hover:text-yellow-500">â­</span>
                        <span onclick="setRating(3)" class="cursor-pointer hover:text-yellow-500">â­</span>
                        <span onclick="setRating(4)" class="cursor-pointer hover:text-yellow-500">â­</span>
                        <span onclick="setRating(5)" class="cursor-pointer hover:text-yellow-500">â­</span>
                    </div>
                </div>
                
                <textarea placeholder="Ù†Ø¸Ø± Ø´Ù…Ø§..." class="w-full p-3 border rounded-lg mb-4" rows="4" required></textarea>
                
                <button type="submit" class="w-full bg-pink-500 hover:bg-pink-600 text-white py-3 rounded-lg font-bold">
                    Ø«Ø¨Øª Ù†Ø¸Ø±
                </button>
            </form>
            
            <button onclick="closeModal('reviewModal')" class="absolute top-4 left-4 text-gray-500 hover:text-gray-700 text-2xl">Ã—</button>
        </div>
    </div>

    <!-- Floating Support Bubble -->
    <div class="fixed bottom-6 left-6 z-50">
        <div id="supportBubble" class="relative">
            <!-- Support Options (Hidden by default) -->
            <div id="supportOptions" class="absolute bottom-16 left-0 bg-white rounded-2xl shadow-2xl p-4 w-64 hidden">
                <h4 class="text-lg font-bold text-gray-800 mb-4 text-center">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¢Ø¯Ø±ÛŒÙ†Ø§</h4>
                
                <!-- Phone Support -->
                <div class="mb-3">
                    <button onclick="contactSupport('phone')" class="w-full flex items-center p-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors">
                        <span class="text-2xl ml-3">ğŸ“</span>
                        <div class="text-right">
                            <div class="font-medium text-green-800">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†</div>
                            <div class="text-sm text-green-600">Û°Û¹Û±ÛµÛ´Û°Û³Û²Û¸Û°Û¸</div>
                        </div>
                    </button>
                </div>
                
                <!-- Chat Support -->
                <div class="mb-3">
                    <button onclick="contactSupport('chat')" class="w-full flex items-center p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors">
                        <span class="text-2xl ml-3">ğŸ’¬</span>
                        <div class="text-right">
                            <div class="font-medium text-blue-800">Ú†Øª Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†</div>
                            <div class="text-sm text-blue-600">Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</div>
                        </div>
                    </button>
                </div>
                
                <!-- Master Baker Chat -->
                <div class="mb-2">
                    <button onclick="contactSupport('master')" class="w-full flex items-center p-3 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors">
                        <span class="text-2xl ml-3">ğŸ‘¨â€ğŸ³</span>
                        <div class="text-right">
                            <div class="font-medium text-purple-800">Ú†Øª Ø¨Ø§ Ø§Ø³ØªØ§Ø¯ Ù‚Ù†Ø§Ø¯</div>
                            <div class="text-sm text-purple-600">Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ®ØµØµÛŒ</div>
                        </div>
                    </button>
                </div>
            </div>
            
            <!-- Main Support Button -->
            <button onclick="toggleSupport()" class="bg-pink-500 hover:bg-pink-600 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all transform hover:scale-110">
                <span class="text-2xl">ğŸ’¬</span>
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-pink-800 text-white py-8">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h5 class="text-xl font-bold mb-4">Ú©Ø§Ø±Ú¯Ø§Ù‡ Ø´ÛŒØ±ÛŒÙ†ÛŒ Ù¾Ø²ÛŒ Ø¢Ø¯Ø±ÛŒÙ†Ø§</h5>
                    <p class="text-pink-200">Ø³Ø§Ù…Ø§Ù†Ù‡ Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† Ú©ÛŒÚ© Ùˆ Ø´ÛŒØ±ÛŒÙ†ÛŒ</p>
                    <p class="text-pink-300 text-sm mt-2">ğŸ“ Ø¨Ù„ÙˆØ§Ø± ØªÙˆØ³ØŒ ØªÙˆØ³ Û´Û±ØŒ Ûµ Ú©ÛŒÙ„ÙˆÙ…ØªØ± Ø¨Ø¹Ø¯ Ø§Ø² Ø´Ù‡Ø±Ú© Ø­Ø¬ØªØŒ Ø±ÙˆØ³ØªØ§ÛŒ Ù†ÙˆØ±ÛŒØŒ Ú©ÙˆÚ†Ù‡ Ù†ÛŒÙ„ÙˆÙØ±</p>
                    <div class="flex space-x-4 space-x-reverse mt-4">
                        <span class="sparkle">ğŸ§</span>
                        <span class="sparkle">ğŸ°</span>
                        <span class="sparkle">ğŸ‚</span>
                    </div>
                </div>
                
                <div>
                    <h6 class="font-bold mb-4">Ù„ÛŒÙ†Ú© Ù‡Ø§ÛŒ Ù…ÙÛŒØ¯</h6>
                    <ul class="space-y-2 text-pink-200">
                        <li><a href="#" class="hover:text-white">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a></li>
                        <li><a href="#" class="hover:text-white">Ù‚ÙˆØ§Ù†ÛŒÙ† Ùˆ Ù…Ù‚Ø±Ø±Ø§Øª</a></li>
                        <li><a href="#" class="hover:text-white">Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ</a></li>
                        <li><a href="#" class="hover:text-white">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</a></li>
                    </ul>
                </div>
                
                <div>
                    <h6 class="font-bold mb-4">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†</h6>
                    <button onclick="downloadApp()" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg mb-2 block">
                        ğŸ“± Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯
                    </button>
                    <p class="text-pink-200 text-sm">Ù†Ø³Ø®Ù‡ Û±.Û°.Û°</p>
                </div>
            </div>
            
            <div class="border-t border-pink-700 mt-8 pt-8 text-center">
                <p class="text-pink-300">Â© Û±Û´Û°Û³ Ú©Ø§Ø±Ú¯Ø§Ù‡ Ø´ÛŒØ±ÛŒÙ†ÛŒ Ù¾Ø²ÛŒ Ø¢Ø¯Ø±ÛŒÙ†Ø§ - ØªÙ…Ø§Ù…ÛŒ Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª</p>
                <p class="text-pink-400 text-sm mt-2">Ù…Ø·Ø§Ø¨Ù‚ Ø¨Ø§ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø¬Ù…Ù‡ÙˆØ±ÛŒ Ø§Ø³Ù„Ø§Ù…ÛŒ Ø§ÛŒØ±Ø§Ù†</p>
            </div>
        </div>
    </footer>

    <script>
        // Sample data
        let products = [
            {id: 1, name: 'Ú©ÛŒÚ© ØªÙˆÙ„Ø¯ ÙØ§Ù†ØªØ²ÛŒ', price: 200000, description: 'Ú©ÛŒÚ© Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ø§ Ø·Ø±Ø§Ø­ÛŒ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯', emoji: 'ğŸ‚', unit: 'Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…', reviews: []},
            {id: 2, name: 'Ø´ÛŒØ±ÛŒÙ†ÛŒ ØªÙØ±', price: 120000, description: 'Ø±ÙˆÙ„ØªØŒ Ø³ÙˆÙ„ÛŒØŒ ØªÙØ±ØŒ Ù†Ø§Ù† Ø®Ø§Ù…Ù‡ Ø§ÛŒ', emoji: 'ğŸ§', unit: 'Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…', reviews: []},
            {id: 3, name: 'Ø´ÛŒØ±ÛŒÙ†ÛŒ Ø®Ø´Ú©', price: 150000, description: 'Ø²Ø¨ÙˆÙ†ØŒ Ø¯Ø§Ù†Ù…Ø§Ø±Ú©ÛŒ Ùˆ Ø§Ù†ÙˆØ§Ø¹ Ø´ÛŒØ±ÛŒÙ†ÛŒ Ù‡Ø§ÛŒ Ø®Ø´Ú©', emoji: 'ğŸª', unit: 'Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…', reviews: []}
        ];

        let currentUser = null;
        let currentRating = 0;

        // Product variants
        const productVariants = {
            2: ['Ø±ÙˆÙ„Øª', 'Ø³ÙˆÙ„ÛŒ', 'ØªÙØ±', 'Ù†Ø§Ù† Ø®Ø§Ù…Ù‡ Ø§ÛŒ'],
            3: ['Ø²Ø¨ÙˆÙ†', 'Ø¯Ø§Ù†Ù…Ø§Ø±Ú©ÛŒ', 'Ù†Ø§Ù† Ø¨Ø±Ù†Ø¬ÛŒ', 'Ø¨Ø§Ù‚Ù„ÙˆØ§']
        };

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Auth functions
        function switchTab(tab) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');

            if (tab === 'login') {
                loginTab.classList.add('bg-pink-500', 'text-white');
                loginTab.classList.remove('bg-gray-300', 'text-gray-700');
                registerTab.classList.add('bg-gray-300', 'text-gray-700');
                registerTab.classList.remove('bg-pink-500', 'text-white');
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
            } else {
                registerTab.classList.add('bg-pink-500', 'text-white');
                registerTab.classList.remove('bg-gray-300', 'text-gray-700');
                loginTab.classList.add('bg-gray-300', 'text-gray-700');
                loginTab.classList.remove('bg-pink-500', 'text-white');
                loginForm.style.display = 'none';
                registerForm.style.display = 'block';
            }
        }

        // Load products
        function loadProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => `
                <div class="card-hover magic-card rounded-2xl p-6 shadow-2xl border-2 border-blue-100 relative overflow-hidden">
                    <div class="absolute top-2 right-2 magic-sparkle text-2xl">âœ¨</div>
                    <div class="text-center">
                        <div class="text-6xl mb-4 floating-element">${product.emoji}</div>
                        <h4 class="text-2xl font-bold text-blue-900 mb-3 drop-shadow-md">${product.name}</h4>
                        <p class="text-blue-700 mb-4">${product.description}</p>
                        <div class="bg-gradient-to-r from-blue-100 to-white rounded-lg p-3 mb-4 border border-blue-200">
                            <span class="text-blue-900 font-bold text-lg">${product.price.toLocaleString()} ØªÙˆÙ…Ø§Ù† / ${product.unit}</span>
                        </div>
                        <div class="space-y-2">
                            <button onclick="orderProduct(${product.id})" class="w-full bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900 text-white py-3 rounded-lg font-bold transition-all transform hover:scale-105 shadow-lg">
                                Ø³ÙØ§Ø±Ø´
                            </button>
                            <button onclick="openReviewModal(${product.id})" class="w-full bg-gradient-to-r from-white to-blue-50 hover:from-blue-50 hover:to-blue-100 text-blue-800 py-2 rounded-lg font-medium transition-all border border-blue-200">
                                Ø«Ø¨Øª Ù†Ø¸Ø±
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Load reviews
        function loadReviews() {
            const container = document.getElementById('reviewsContainer');
            const allReviews = products.flatMap(p => p.reviews);
            
            if (allReviews.length === 0) {
                container.innerHTML = `
                    <div class="col-span-full text-center py-8">
                        <div class="text-4xl mb-4">ğŸ’¬</div>
                        <p class="text-gray-600">Ù‡Ù†ÙˆØ² Ù†Ø¸Ø±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø§ÙˆÙ„ÛŒÙ† Ù†Ø¸Ø± Ø±Ø§ Ø´Ù…Ø§ Ø¨Ø¯Ù‡ÛŒØ¯!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = allReviews.map(review => `
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center text-white font-bold">
                            ${review.user.charAt(0)}
                        </div>
                        <div class="mr-3">
                            <h5 class="font-bold">${review.user}</h5>
                            <div class="text-yellow-500">${'â­'.repeat(review.rating)}</div>
                        </div>
                    </div>
                    <p class="text-gray-700">${review.comment}</p>
                    <p class="text-sm text-gray-500 mt-2">Ù…Ø­ØµÙˆÙ„: ${review.productName}</p>
                </div>
            `).join('');
        }

        // Order tracking
        function trackOrder() {
            const code = document.getElementById('trackingCode').value;
            if (code) {
                document.getElementById('orderStatus').classList.remove('hidden');
            } else {
                alert('Ù„Ø·ÙØ§Ù‹ Ú©Ø¯ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
            }
        }

        // Review functions
        function openReviewModal(productId) {
            window.currentProductId = productId;
            openModal('reviewModal');
        }

        function setRating(rating) {
            currentRating = rating;
            const stars = document.querySelectorAll('#reviewModal .cursor-pointer');
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.style.color = '#fbbf24';
                } else {
                    star.style.color = '#d1d5db';
                }
            });
        }

        // Order product
        function orderProduct(productId) {
            // Check if user is logged in
            if (!currentUser) {
                alert('Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø´ÙˆÛŒØ¯ ÛŒØ§ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ù†ÛŒØ¯.');
                openModal('loginModal');
                return;
            }
            
            openModal('orderModal');
            // Pre-select the product
            document.getElementById('productSelect').value = productId;
            updateProductDetails();
        }

        // Update product details and variants
        function updateProductDetails() {
            const productId = parseInt(document.getElementById('productSelect').value);
            const variantsDiv = document.getElementById('productVariants');
            const variantSelect = document.getElementById('variantSelect');
            const orderTypeSection = document.getElementById('orderTypeSection');
            
            if (productVariants[productId]) {
                variantsDiv.classList.remove('hidden');
                variantSelect.innerHTML = productVariants[productId].map(variant => 
                    `<option value="${variant}">${variant}</option>`
                ).join('');
                
                // Show order type selection for pastries
                orderTypeSection.classList.remove('hidden');
                // Default to weight for pastries
                document.querySelector('input[name="orderType"][value="weight"]').checked = true;
                toggleOrderType();
            } else {
                variantsDiv.classList.add('hidden');
                orderTypeSection.classList.add('hidden');
                // For cakes, only show weight option
                document.getElementById('weightSection').classList.remove('hidden');
                document.getElementById('quantitySection').classList.add('hidden');
            }
            
            calculatePrice();
        }

        // Toggle between weight and quantity ordering
        function toggleOrderType() {
            const orderType = document.querySelector('input[name="orderType"]:checked')?.value;
            const weightSection = document.getElementById('weightSection');
            const quantitySection = document.getElementById('quantitySection');
            
            if (orderType === 'weight') {
                weightSection.classList.remove('hidden');
                quantitySection.classList.add('hidden');
                document.getElementById('quantityInput').value = '';
            } else if (orderType === 'quantity') {
                weightSection.classList.add('hidden');
                quantitySection.classList.remove('hidden');
                document.getElementById('weightInput').value = '';
            }
            
            calculatePrice();
        }

        // Calculate total price
        function calculatePrice() {
            const productId = parseInt(document.getElementById('productSelect').value);
            const weight = parseFloat(document.getElementById('weightInput').value) || 0;
            const quantity = parseInt(document.getElementById('quantityInput').value) || 0;
            const priceDisplay = document.getElementById('priceDisplay');
            const totalPriceSpan = document.getElementById('totalPrice');
            
            if (productId) {
                const product = products.find(p => p.id === productId);
                let totalPrice = 0;
                
                if (weight > 0) {
                    totalPrice = product.price * weight;
                } else if (quantity > 0) {
                    // For quantity-based orders, assume average weight per piece
                    const avgWeightPerPiece = 0.1; // 100 grams per piece
                    totalPrice = product.price * quantity * avgWeightPerPiece;
                }
                
                if (totalPrice > 0) {
                    totalPriceSpan.textContent = totalPrice.toLocaleString();
                    priceDisplay.classList.remove('hidden');
                } else {
                    priceDisplay.classList.add('hidden');
                }
            } else {
                priceDisplay.classList.add('hidden');
            }
        }

        // Persian date functions
        function getPersianDates() {
            const persianMonths = [
                'ÙØ±ÙˆØ±Ø¯ÛŒÙ†', 'Ø§Ø±Ø¯ÛŒØ¨Ù‡Ø´Øª', 'Ø®Ø±Ø¯Ø§Ø¯', 'ØªÛŒØ±', 'Ù…Ø±Ø¯Ø§Ø¯', 'Ø´Ù‡Ø±ÛŒÙˆØ±',
                'Ù…Ù‡Ø±', 'Ø¢Ø¨Ø§Ù†', 'Ø¢Ø°Ø±', 'Ø¯ÛŒ', 'Ø¨Ù‡Ù…Ù†', 'Ø§Ø³ÙÙ†Ø¯'
            ];
            
            const persianDays = [
                'ÛŒÚ©Ø´Ù†Ø¨Ù‡', 'Ø¯ÙˆØ´Ù†Ø¨Ù‡', 'Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡', 'Ú†Ù‡Ø§Ø±Ø´Ù†Ø¨Ù‡', 'Ù¾Ù†Ø¬â€ŒØ´Ù†Ø¨Ù‡', 'Ø¬Ù…Ø¹Ù‡', 'Ø´Ù†Ø¨Ù‡'
            ];
            
            const dates = [];
            const today = new Date();
            
            for (let i = 1; i <= 7; i++) {
                const date = new Date(today);
                date.setDate(today.getDate() + i);
                
                // Simple Persian date conversion (approximate)
                const persianYear = 1403;
                const persianMonth = Math.floor(Math.random() * 12); // Simplified
                const persianDay = date.getDate();
                const dayOfWeek = persianDays[date.getDay()];
                
                dates.push({
                    value: date.toISOString().split('T')[0],
                    text: `${dayOfWeek} ${persianDay} ${persianMonths[persianMonth]} ${persianYear}`
                });
            }
            
            return dates;
        }

        function populatePersianDates() {
            const dateSelect = document.getElementById('deliveryDate');
            const dates = getPersianDates();
            
            dates.forEach(date => {
                const option = document.createElement('option');
                option.value = date.value;
                option.textContent = date.text;
                dateSelect.appendChild(option);
            });
        }

        // Add event listeners for price calculation
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            loadReviews();
            populatePersianDates();
            
            document.getElementById('weightInput').addEventListener('input', calculatePrice);
            document.getElementById('quantityInput').addEventListener('input', calculatePrice);
        });

        // Download app
        function downloadApp() {
            alert('Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø§Ù†Ø¯Ø±ÙˆÛŒØ¯ Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ Ø§Ø³Øª. Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù‚Ø±Ø§Ø± Ø®ÙˆØ§Ù‡Ø¯ Ú¯Ø±ÙØª!\n\nÙˆÛŒÚ˜Ú¯ÛŒ Ù‡Ø§ÛŒ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†:\nâ€¢ Ø³ÙØ§Ø±Ø´ Ø¢Ø³Ø§Ù†\nâ€¢ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù„Ø­Ø¸Ù‡ Ø§ÛŒ\nâ€¢ Ø§Ø¹Ù„Ø§Ù† Ù‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯\nâ€¢ Ù¾Ø±Ø¯Ø§Ø®Øª Ø§Ù…Ù†\nâ€¢ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Û²Û´ Ø³Ø§Ø¹ØªÙ‡');
        }

        // Support functions
        function toggleSupport() {
            const options = document.getElementById('supportOptions');
            options.classList.toggle('hidden');
        }

        function contactSupport(type) {
            let message = '';
            switch(type) {
                case 'phone':
                    message = 'Ø¯Ø± Ø­Ø§Ù„ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù†...\n\nØ´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³: Û°Û¹Û±ÛµÛ´Û°Û³Û²Û¸Û°Û¸\nØ³Ø§Ø¹Ø§Øª Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ: Û¸ ØµØ¨Ø­ ØªØ§ Û±Û° Ø´Ø¨';
                    break;
                case 'chat':
                    message = 'Ú†Øª Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù† ÙØ¹Ø§Ù„ Ø´Ø¯!\n\nÙ¾Ø´ØªÛŒØ¨Ø§Ù†: Ø³Ù„Ø§Ù…! Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆÙ†Ù… Ú©Ù…Ú©ØªÙˆÙ† Ú©Ù†Ù…ØŸ\n\n(Ø§ÛŒÙ† ÛŒÚ© Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³Øª - Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ú†Øª Ø¯Ø§Ø±Ø¯)';
                    break;
                case 'master':
                    message = 'Ú†Øª Ø¨Ø§ Ø§Ø³ØªØ§Ø¯ Ù‚Ù†Ø§Ø¯ ÙØ¹Ø§Ù„ Ø´Ø¯!\n\nØ§Ø³ØªØ§Ø¯ Ù‚Ù†Ø§Ø¯: Ø³Ù„Ø§Ù… Ø¹Ø²ÛŒØ²! Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§ÙˆØ±Ù‡ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ú©ÛŒÚ© Ùˆ Ø´ÛŒØ±ÛŒÙ†ÛŒ Ø¯Ø± Ø®Ø¯Ù…ØªÙ….\n\n(Ø§ÛŒÙ† ÛŒÚ© Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³Øª - Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ú†Øª Ø¯Ø§Ø±Ø¯)';
                    break;
            }
            alert(message);
            document.getElementById('supportOptions').classList.add('hidden');
        }

        // Check login for main order button
        function checkLoginAndOrder() {
            if (!currentUser) {
                alert('Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ ÙˆØ§Ø±Ø¯ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø®ÙˆØ¯ Ø´ÙˆÛŒØ¯ ÛŒØ§ Ø«Ø¨Øª Ù†Ø§Ù… Ú©Ù†ÛŒØ¯.');
                openModal('loginModal');
                return;
            }
            openModal('orderModal');
        }

        // Form submissions
        document.getElementById('authForm').addEventListener('submit', function(e) {
            e.preventDefault();
            // Simulate successful login
            currentUser = {name: 'Ú©Ø§Ø±Ø¨Ø± Ù†Ù…ÙˆÙ†Ù‡', phone: '09123456789'};
            alert('ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒØ¢Ù…ÛŒØ² Ø¨ÙˆØ¯! Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³ÙØ§Ø±Ø´ Ø¯Ù‡ÛŒØ¯.');
            closeModal('loginModal');
        });

        document.getElementById('newOrderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const productId = parseInt(document.getElementById('productSelect').value);
            const weight = parseFloat(document.getElementById('weightInput').value) || 0;
            const quantity = parseInt(document.getElementById('quantityInput').value) || 0;
            const variant = document.getElementById('variantSelect').value;
            const imageFile = document.getElementById('imageUpload').files[0];
            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
            const deliveryDate = document.getElementById('deliveryDate');
            const selectedDateText = deliveryDate.options[deliveryDate.selectedIndex].text;
            
            // Get customer information
            const firstName = e.target.querySelector('input[placeholder="Ù†Ø§Ù…"]').value;
            const lastName = e.target.querySelector('input[placeholder="Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ"]').value;
            const phone = e.target.querySelector('input[placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³"]').value;
            const address = e.target.querySelector('textarea[placeholder*="Ø´Ù‡Ø±ØŒ Ù…Ù†Ø·Ù‚Ù‡"]').value;
            
            const product = products.find(p => p.id === productId);
            let totalPrice = 0;
            let orderType = '';
            
            if (weight > 0) {
                totalPrice = product.price * weight;
                orderType = `ÙˆØ²Ù†: ${weight} Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…`;
            } else if (quantity > 0) {
                const avgWeightPerPiece = 0.1;
                totalPrice = product.price * quantity * avgWeightPerPiece;
                orderType = `ØªØ¹Ø¯Ø§Ø¯: ${quantity} Ø¹Ø¯Ø¯`;
            }
            
            const orderCode = 'ORD' + Math.random().toString(36).substr(2, 9).toUpperCase();
            
            let orderDetails = `Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!\nÚ©Ø¯ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: ${orderCode}\n\n`;
            orderDetails += `ğŸ§‘â€ğŸ’¼ Ù…Ø´Ø®ØµØ§Øª Ø³ÙØ§Ø±Ø´ Ø¯Ù‡Ù†Ø¯Ù‡:\n`;
            orderDetails += `Ù†Ø§Ù…: ${firstName} ${lastName}\n`;
            orderDetails += `ØªÙ„ÙÙ†: ${phone}\n`;
            orderDetails += `Ø¢Ø¯Ø±Ø³: ${address}\n\n`;
            orderDetails += `ğŸ“¦ Ø¬Ø²Ø¦ÛŒØ§Øª Ø³ÙØ§Ø±Ø´:\n`;
            orderDetails += `Ù…Ø­ØµÙˆÙ„: ${product.name}\n`;
            if (variant) orderDetails += `Ù†ÙˆØ¹: ${variant}\n`;
            orderDetails += `${orderType}\n`;
            orderDetails += `ØªØ§Ø±ÛŒØ® ØªØ­ÙˆÛŒÙ„: ${selectedDateText}\n`;
            orderDetails += `Ù‚ÛŒÙ…Øª Ú©Ù„: ${totalPrice.toLocaleString()} ØªÙˆÙ…Ø§Ù†\n`;
            orderDetails += `Ø±ÙˆØ´ Ù¾Ø±Ø¯Ø§Ø®Øª: ${paymentMethod === 'cash' ? 'Ù¾Ø±Ø¯Ø§Ø®Øª Ø¯Ø± Ù…Ø­Ù„ ğŸ’µ' : 'Ù¾Ø±Ø¯Ø§Ø®Øª Ø¢Ù†Ù„Ø§ÛŒÙ† ğŸ’³'}\n`;
            if (imageFile) orderDetails += `Ø¹Ú©Ø³ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯: ${imageFile.name}\n`;
            orderDetails += `\nØ§Ø² Ø¨Ø®Ø´ "Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø³ÙØ§Ø±Ø´" Ù…ÛŒ ØªÙˆØ§Ù†ÛŒØ¯ ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯.`;
            
            alert(orderDetails);
            closeModal('orderModal');
        });

        document.getElementById('reviewForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (currentRating === 0) {
                alert('Ù„Ø·ÙØ§Ù‹ Ø§Ù…ØªÛŒØ§Ø² Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            const comment = e.target.querySelector('textarea').value;
            const product = products.find(p => p.id === window.currentProductId);
            
            if (product) {
                product.reviews.push({
                    user: 'Ú©Ø§Ø±Ø¨Ø± Ù…Ù‡Ù…Ø§Ù†',
                    rating: currentRating,
                    comment: comment,
                    productName: product.name
                });
                
                loadReviews();
                alert('Ù†Ø¸Ø± Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!');
                closeModal('reviewModal');
                currentRating = 0;
            }
        });

        document.getElementById('addProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯! (Ù†Ù…ÙˆÙ†Ù‡)\nØ¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø³Ø±ÙˆØ± Ùˆ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¯Ø§Ø±Ø¯.');
            closeModal('adminModal');
        });

        // Close modals when clicking outside
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        // Close support options when clicking outside
        document.addEventListener('click', function(e) {
            const supportBubble = document.getElementById('supportBubble');
            const supportOptions = document.getElementById('supportOptions');
            
            if (!supportBubble.contains(e.target)) {
                supportOptions.classList.add('hidden');
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'968871faf7d3d38a',t:'MTc1NDA4MzkxNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
